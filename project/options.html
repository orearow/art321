<script type="text/javascript" src="https://d3js.org/d3.v4.min.js" charset="utf-8"></script>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>


<style type="text/css">


.title{
  text-align: center;
  font-family: 'Oswald';
  font-weight: 100;
  font-size: 3.75rem;
  letter-spacing:5px;
  background: linear-gradient(rgba(255,0,0,0), #444,rgba(255,0,0,0));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  margin-bottom: 0;
  @media screen and (min-width:37.5em){
    font-size: 4.75rem;
  }
}

*{
  margin:0;
  padding:0;
}
body{
  font-family:arial,sans-serif;
  font-size:100%;
  margin:1em;
  background:#666;
  color:#fff;
}
h2,p{
  font-size:100%;
  font-weight:normal;
}
ul,li{
  list-style:none;
}
ul{
  overflow:hidden;
  padding:3em;
}
ul li a{
  text-decoration:none;
  color:#000;
  background:#ffc;
  display:block;
  height:10em;
  width:10em;
  padding:1em;
  -moz-box-shadow:5px 5px 7px rgba(33,33,33,1);
  -webkit-box-shadow: 5px 5px 7px rgba(33,33,33,.7);
  box-shadow: 5px 5px 7px rgba(33,33,33,.7);
  -moz-transition:-moz-transform .15s linear;
  -o-transition:-o-transform .15s linear;
  -webkit-transition:-webkit-transform .15s linear;
}
ul li{
  margin:1em;
  float:left;
}
ul li h2{
  font-size:140%;
  font-weight:bold;
  padding-bottom:10px;
}
ul li p{
  font-family:"Reenie Beanie",arial,sans-serif;
  font-size:180%;
}
ul li a{
  -webkit-transform: rotate(-6deg);
  -o-transform: rotate(-6deg);
  -moz-transform:rotate(-6deg);
}
ul li:nth-child(even) a{
  -o-transform:rotate(4deg);
  -webkit-transform:rotate(4deg);
  -moz-transform:rotate(4deg);
  position:relative;
  top:5px;
  background:#cfc;
}
ul li:nth-child(3n) a{
  -o-transform:rotate(-3deg);
  -webkit-transform:rotate(-3deg);
  -moz-transform:rotate(-3deg);
  position:relative;
  top:-5px;
  background:#ccf;
}
ul li:nth-child(5n) a{
  -o-transform:rotate(5deg);
  -webkit-transform:rotate(5deg);
  -moz-transform:rotate(5deg);
  position:relative;
  top:-10px;
}
ul li a:hover,ul li a:focus{
  box-shadow:10px 10px 7px rgba(0,0,0,.7);
  -moz-box-shadow:10px 10px 7px rgba(0,0,0,.7);
  -webkit-box-shadow: 10px 10px 7px rgba(0,0,0,.7);
  -webkit-transform: scale(1.25);
  -moz-transform: scale(1.25);
  -o-transform: scale(1.25);
  position:relative;
  z-index:5;
}

img:hover,ul li a:focus{
  box-shadow:10px 10px 7px rgba(0,0,0,.7);
  -moz-box-shadow:10px 10px 7px rgba(0,0,0,.7);
  -webkit-box-shadow: 10px 10px 7px rgba(0,0,0,.7);
  -webkit-transform: scale(1.25);
  -moz-transform: scale(1.25);
  -o-transform: scale(1.25);
  position:relative;
  z-index:5;
}


ol{text-align:center;}
ol li{display:inline;padding-right:1em;}
ol li a{color:#fff;}






body{
  margin:0;
  padding:0;
  font-family:"arial",heletica,sans-serif;
  font-size:12px;
    background: #2980b9 url('https://static.tumblr.com/03fbbc566b081016810402488936fbae/pqpk3dn/MRSmlzpj3/tumblr_static_bg3.png') repeat 0 0;
  -webkit-animation: 10s linear 0s normal none infinite animate;
  -moz-animation: 10s linear 0s normal none infinite animate;
  -ms-animation: 10s linear 0s normal none infinite animate;
  -o-animation: 10s linear 0s normal none infinite animate;
  animation: 10s linear 0s normal none infinite animate;
 
}
 
@-webkit-keyframes animate {
  from {background-position:0 0;}
  to {background-position: 500px 0;}
}
 
@-moz-keyframes animate {
  from {background-position:0 0;}
  to {background-position: 500px 0;}
}
 
@-ms-keyframes animate {
  from {background-position:0 0;}
  to {background-position: 500px 0;}
}
 
@-o-keyframes animate {
  from {background-position:0 0;}
  to {background-position: 500px 0;}
}
 
@keyframes animate {
  from {background-position:0 0;}
  to {background-position: 500px 0;}
}
h2 {
    text-decoration: underline;
    font-weight: bold;
    color: violet;
    font-size: 50px;
    font-style: italic;
}

p {
    overflow-wrap: break-word;
    white-space:normal;
}


.tooltip {
    position: relative;
    overflow-wrap: break-word;

/*    display: inline-block;
*//*    border-bottom: 1px dotted black;
*/}

.tooltip .tooltiptext {
    overflow-wrap: break-word;
    visibility: hidden;
    width: 400px;
    height: max-content;
    background-color: #555;
    color: #fff;
    text-align: center;
    border-radius: 6px;
    padding: 5px 0;
    position: absolute;
    z-index: 1;
    font-size: 12px;
    bottom: 125%;
    left: 50%;
    margin-left: -60px;
    opacity: 0;
    transition: opacity 0.3s;
}

.tooltip .tooltiptext::after {
    content: "";
    position: absolute;
    top: 100%;
    left: 50%;
    margin-left: -5px;
    border-width: 5px;
    border-style: solid;
    border-color: #555 transparent transparent transparent;
}

.tooltip:hover .tooltiptext {
    visibility: visible;
    opacity: 1;
}

li p {
    margin: 5px;
    padding: 5px;
}

    #outter {
        position: relative;
        width: 50000px;
        height: 200px;
/*        overflow: scroll;
*/    }
    #inner {
        position: absolute;
        top: 0;
        left: 0;
        width: 5000px;
        height: 200px;
    }
    #inner .item {
        float: left;
        display: inline;
    }    

    .column {
          border-right: 8px solid pink;

      display: inline-block;
    white-space: nowrap;

    width: 300px


 background: rgba(234,110,72,1);
    background: -moz-linear-gradient(45deg, rgba(234,110,72,1) 0%, rgba(188,26,99,1) 100%);
    background: -webkit-gradient(left bottom, right top, color-stop(0%, rgba(234,110,72,1)), color-stop(100%, rgba(188,26,99,1)));
    background: -webkit-linear-gradient(45deg, rgba(234,110,72,1) 0%, rgba(188,26,99,1) 100%);
    background: -o-linear-gradient(45deg, rgba(234,110,72,1) 0%, rgba(188,26,99,1) 100%);
    background: -ms-linear-gradient(45deg, rgba(234,110,72,1) 0%, rgba(188,26,99,1) 100%);
    background: linear-gradient(45deg, rgba(234,110,72,1) 0%, rgba(188,26,99,1) 100%);
    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ea6e48', endColorstr='#bc1a63', GradientType=1 );


    float: left;
/*    width: 50%;
*/    padding: 10px;

     /* Should be removed. Only for demonstration */
}




@import url('https://fonts.googleapis.com/css?family=Playfair+Display|Roboto');

.text-box {
  position: absolute;
  top: 40%;
  left: 50%;
  transform: translate(-50%, -40%);
}

.heading-primary {
  color: deeppink;
  text-transform: uppercase;
}

.heading-primary-main {
  display: block;
  font-size: 60px;
  font-family: 'Playfair Display', serif;
  font-weight: 400;
  letter-spacing: 35px;

  animation-name: moveInLeft;
  animation-duration: 3s;
  animation-iteration-count: 5;
}

.heading-primary-sub {
  font-family: 'Roboto', sans-serif;
  font-weight: 400;
  display: block;
  font-size: 20px;
  font-weight: 700;
  letter-spacing: 17.4px;
  
  animation-name: moveInRight;
  animation-duration: 3s;
  animation-iteration-count: 5;
  animation-timing-function: ease-out;
}

@keyframes moveInLeft {
  0% {
    opacity: 0;
    transform: translateX(-100px);
  }

  80% {
    transform: translateX(5px);
  }

  100% {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes moveInRight {
  0% {
    opacity: 0;
    transform: translateX(100px);
  }

  80% {
    transform: translateX(-5px);
  }

  100% {
    opacity: 1;
    transform: translateX(0);
  }
}
.dropdown {
    position: relative;
    display: inline-block;
}

.dropdown-content {
    display: none;
    position: absolute;
    background-color: #f9f9f9;
    min-width: 160px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    padding: 12px 16px;
    z-index: 1;
}

.dropdown:hover .dropdown-content {
    display: block;
}






  /*PINK*/
  .b-pink, .b-pink:before {
    background: rgba(231,72,234,1);
    background: -moz-linear-gradient(45deg, rgba(231,72,234,1) 0%, rgba(75,26,188,1) 100%);
    background: -webkit-gradient(left bottom, right top, color-stop(0%, rgba(231,72,234,1)), color-stop(100%, rgba(75,26,188,1)));
    background: -webkit-linear-gradient(45deg, rgba(231,72,234,1) 0%, rgba(75,26,188,1) 100%);
    background: -o-linear-gradient(45deg, rgba(231,72,234,1) 0%, rgba(75,26,188,1) 100%);
    background: -ms-linear-gradient(45deg, rgba(231,72,234,1) 0%, rgba(75,26,188,1) 100%);
    background: linear-gradient(45deg, rgba(231,72,234,1) 0%, rgba(75,26,188,1) 100%);
    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#e748ea', endColorstr='#4b1abc', GradientType=1 );
  }
 
/*END GRADIENTS*/
/*BASE BUTTON*/
.button {
  display: inline-block;
  position: relative;
  border-radius: 3px;
  text-decoration: none;
  padding: .5em;
  margin: .5em;
  font-size: 2em;
  font-weight: bold;
  transition: all .5s;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}
.button:hover {
  text-shadow: 0px 0px 0px rgba(255, 255, 255, .75);
}
.button:hover:after {
  left: 100%;
  top: 100%;
  bottom: 100%;
  right: 100%;
}
.button:before {
  content: '';
  display: block;
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  right: 0;
  z-index: -1;
  border-radius: 5px;
  transition: all .5s;
}
.button:after {
  content: '';
  display: block;
  position: absolute;
  left: 2px;
  top: 2px;
  bottom: 2px;
  right: 2px;
  z-index: -1;
  border-radius: 5px;
  transition: all .5s;
}
.button2 {
  display: inline-block;
  font-size: 2em;
  margin: .5em;
  padding: .5em;
  border-radius: 5px;
  transition: all .5s;
  filter: hue-rotate(0deg);
  color: #FFF;
  text-decoration: none;
}
/*END BASE BUTTON*/
/*ROTATE*/
.rot-360-noscoop:hover {
  filter: hue-rotate(360deg);
  transform: rotate(360deg);
}
.rot-135:hover {
  filter: hue-rotate(135deg);
}
.rot-90:hover {
  filter: hue-rotate(90deg);
}
/*END ROTATE*/




</style>




<body>

  <h1 class="title">Explore By periodical</h1>

 <ul>


    <li >
    <img onclick="anthology('red_riding_hood')" src="covers/red_riding_hood.jpg" style="width:220px;height:275px;>
    </li>
    

    <li href="javascript:poo(42482)">
    <img  onclick="anthology('brave_tin_soldier')" src="covers/brave_tin_soldier.jpg" style="width:220px;height:275px;>
    </li>

    <li href="javascript:poo(42482)">
    <img  onclick="anthology('goat_with_three_kids')" src="covers/goat_with_three_kids.jpg" style="width:220px;height:275px;>
    </li>
        <li href="javascript:poo(42482)">
    <img onclick="anthology('the_snow_queen')" src="covers/the_snow_queen.jpg" style="width:220px;height:275px;>
    </li>
        <li href="javascript:poo(42482)">
    <img onclick="anthology('snow_white')" src="covers/snow_white.jpg" style="width:220px;height:275px;>
    </li>
        <li href="javascript:poo(42482)">
    <img onclick="anthology('the_little_mermaid')" src="covers/the_little_mermaid.jpg" style="width:220px;height:275px;>
    </li>
        <li href="javascript:poo(42482)">
    <img onclick="anthology('puss_in_boots')" src="covers/puss_in_boots.jpg" style="width:220px;height:275px;>
    </li>

        <li href="javascript:poo(42482)">
    <img onclick="anthology('jack_beanstalk')" src="covers/jack_beanstalk.jpg" style="width:220px;height:275px;>
    </li>

        <li href="javascript:poo(42482)">
    <img onclick="anthology('snow_rose_red')" src="covers/snow_rose_red.jpg" style="width:220px;height:275px;>
    </li>


        <li href="javascript:poo(42482)">
    <img   onclick="anthology('rapunzel')" src="covers/rapunzel.jpg" style="width:220px;height:275px;>
    </li>

        <li href="javascript:poo(42482)">
    <img onclick="anthology('three_little_pigs')" src="covers/three_little_pigs.jpg" style="width:220px;height:275px;>
    </li>

        <li href="javascript:poo(42482)">
    <img onclick="anthology('ugly_duckling')" src="covers/ugly_duckling.jpg" style="width:220px;height:275px;>
    </li>

        <li href="javascript:poo(42482)">
    <img onclick="anthology('rumplestiltskin')" src="covers/rumplestiltskin.jpg" style="width:220px;height:275px;>
    </li>

      <li href="javascript:poo(42482)">
    <img onclick="anthology('goldilocks')" src="covers/goldilocks.jpg" style="width:220px;height:275px;>
    </li>

      <li href="javascript:poo(42482)">
    <img onclick="anthology('sleepingBeauty')" src="covers/sleepingBeauty.jpg" style="width:220px;height:275px;>
    </li>    

      <li href="javascript:poo(42482)">
    <img  onclick="anthology('mother_frost')" src="covers/mother_frost.jpg" style="width:220px;height:275px;>
    </li>    


      <li href="javascript:poo(42482)">
    <img  onclick="anthology('frog_prince')" src="covers/frog_prince.jpg" style="width:220px;height:275px;>
    </li>    

      <li href="javascript:poo(42482)">
    <img onclick="anthology('fisherman_wife')" src="covers/fisherman_wife.jpg" style="width:220px;height:275px;>
    </li>    


      <li href="javascript:poo(42482)">
    <img  onclick="anthology('new_clothes')" src="covers/new_clothes.jpg" style="width:220px;height:275px;>
    </li>    



      <li href="javascript:poo(42482)">
    <img  onclick="anthology('little_match_girl')" src="covers/little_match_girl.jpg" style="width:220px;height:275px;>
    </li>    


      <li href="javascript:poo(42482)">
    <img onclick="anthology('golden_goose')"  src="covers/golden_goose.jpg" style="width:220px;height:275px;>
    </li>    


      <li href="javascript:poo(42482)">
    <img onclick="anthology('cinderella')" src="covers/cinderella.jpg" style="width:220px;height:275px;>
    </li> 

  </ul>







</body>


 <div id="outter">
    <div id="inner">
        <script >



function anthology(e) {
  console.error(e)
   var story_book_name = e
   prelim_function("/art321/project/csv/" +story_book_name+".csv")


}


String.prototype.replaceAll = function(search, replacement) {
    var target = this;
    return target.split(search).join(replacement);
};





function prelim_function(myData, filename){
  d3.csv(myData, createElements)

  function createElements(myData) {

    var div = d3.select("#inner")
      .append("div")
      .attr("class", "column")

      // .insert("br", "p + *")
      // .style("background-color", "#aaa");


    var booksExtent = d3.extent(myData, function(d) {
      return parseInt(d.score)
    });

    var scale = d3.scaleLinear()
      // .range([7, 30]) //smallest  to biggest text font size 
      // .domain([1, 30]); // 2nd number smallest orrucence biggest occurence 
      .range([5, 100]) //smallest  to biggest text font size 
      .domain([1, 60]); 
      // .range([9, 20])
      // .domain([12, 85]);
      div
        .append("h2")
        .data(myData)
        .text(function(d){

          console.log(d)
          return d.title;
        })
 
    div.selectAll(null)
      .data(myData)
      .enter()
      .append("p")
      .attr("class", "tooltip")
      .text(function(d) {
        return d.word;
      })
      
      .style("font-size", function(d) {
        var value = scale(parseInt(d.score))
        if (value > 50) {
        value = 50 }
        return value  + "pt";
      })
      .append('p')
      .attr("class", "tooltiptext")
      // .html("this is cool <br> wow "  )

      .html(function(d) {
         d.sentence = (d.sentence).toLowerCase()
        str = (d.sentence).replace(/(~newline~)/g, '<br>');
        // all_upper_word = d.word.toUpperCase()
        str = (str).replaceAll((d.word), "<font color=\"red\">" + d.word + "</font>");
        // str = (str).replace((d.word).toUpperCase(), " <font color=\"red\">" + d.word.toUpperCase() + "</font>");


        return str;
      })



  }
}
        </script>
